# google_container_cluster.cluster:
resource "google_container_cluster" "cluster" {
            cluster_ipv4_cidr                   = "10.251.0.0/17"
            datapath_provider                   = "ADVANCED_DATAPATH"
            default_max_pods_per_node           = 110
            enable_autopilot                    = true
            enable_binary_authorization         = false
            enable_intranode_visibility         = true
            enable_kubernetes_alpha             = false
            enable_l4_ilb_subsetting            = false
            enable_legacy_abac                  = false
            enable_shielded_nodes               = true
            enable_tpu                          = false
            endpoint                            = "34.65.237.98"
            id                                  = "projects/winter-field-401115/locations/europe-west6/clusters/gke-qa"
            initial_node_count                  = 0
            label_fingerprint                   = "a9dc16a7"
            location                            = "europe-west6"
            logging_service                     = "logging.googleapis.com/kubernetes"
            master_version                      = "1.27.3-gke.100"
            monitoring_service                  = "monitoring.googleapis.com/kubernetes"
            name                                = "gke-qa"
            network                             = "projects/winter-field-401115/global/networks/vpc-qa"
            networking_mode                     = "VPC_NATIVE"
            node_locations                      = [
        "europe-west6-a",
        "europe-west6-b",
        "europe-west6-c",
    ]
            node_version                        = "1.27.3-gke.100"
            project                             = "winter-field-401115"
            resource_labels                     = {}
            self_link                           = "https://container.googleapis.com/v1/projects/winter-field-401115/locations/europe-west6/clusters/gke-qa"
            services_ipv4_cidr                  = "34.118.224.0/20"
            subnetwork                          = "projects/winter-field-401115/regions/europe-west6/subnetworks/subnet-qa"

    addons_config {

        dns_cache_config {
                    enabled         = true
        }

        gce_persistent_disk_csi_driver_config {
                    enabled         = true
        }

        gcp_filestore_csi_driver_config {
                    enabled         = true
        }

        gcs_fuse_csi_driver_config {
                    enabled         = true
        }

        network_policy_config {
                    disabled         = true
        }
    }

    binary_authorization {
                enabled         = false
    }

    cluster_autoscaling {
                enabled         = true

        auto_provisioning_defaults {
                    disk_size               = 0
                    image_type              = "COS_CONTAINERD"
                    oauth_scopes            = [
                "https://www.googleapis.com/auth/devstorage.read_only",
                "https://www.googleapis.com/auth/logging.write",
                "https://www.googleapis.com/auth/monitoring",
                "https://www.googleapis.com/auth/service.management.readonly",
                "https://www.googleapis.com/auth/servicecontrol",
                "https://www.googleapis.com/auth/trace.append",
            ]
                    service_account         = "default"

            management {
                        auto_repair             = true
                        auto_upgrade            = true
                        upgrade_options         = []
            }

            upgrade_settings {
                        max_surge               = 1
                        max_unavailable         = 0
                        strategy                = "SURGE"
            }
        }

        resource_limits {
                    maximum               = 1000000000
                    minimum               = 0
                    resource_type         = "cpu"
        }
        resource_limits {
                    maximum               = 1000000000
                    minimum               = 0
                    resource_type         = "memory"
        }
        resource_limits {
                    maximum               = 1000000000
                    minimum               = 0
                    resource_type         = "nvidia-tesla-t4"
        }
        resource_limits {
                    maximum               = 1000000000
                    minimum               = 0
                    resource_type         = "nvidia-tesla-a100"
        }
    }

    database_encryption {
                state         = "DECRYPTED"
    }

    default_snat_status {
                disabled         = false
    }

    dns_config {
                cluster_dns                = "CLOUD_DNS"
                cluster_dns_domain         = "cluster.local"
                cluster_dns_scope          = "CLUSTER_SCOPE"
    }

    gateway_api_config {
                channel         = "CHANNEL_STANDARD"
    }

    ip_allocation_policy {
                cluster_ipv4_cidr_block              = "10.251.0.0/17"
                cluster_secondary_range_name         = "gke-gke-qa-pods-0c0cf2d4"
                services_ipv4_cidr_block             = "34.118.224.0/20"
                stack_type                           = "IPV4"

        pod_cidr_overprovision_config {
                    disabled         = false
        }
    }

    logging_config {
                enable_components         = [
            "SYSTEM_COMPONENTS",
            "WORKLOADS",
        ]
    }

    master_auth {
                cluster_ca_certificate         = "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUVMRENDQXBTZ0F3SUJBZ0lRZUwzZTJQa1VJeGxmT3pTWHhOQWFIREFOQmdrcWhraUc5dzBCQVFzRkFEQXYKTVMwd0t3WURWUVFERXlSbE5tSXdPREZoT0MxaE9UUTJMVFF5TldJdE9USXpaUzB3WWprelpqUTVPR05sTVRjdwpJQmNOTWpNeE1ESTBNVFEwTXpVNVdoZ1BNakExTXpFd01UWXhOVFF6TlRsYU1DOHhMVEFyQmdOVkJBTVRKR1UyCllqQTRNV0U0TFdFNU5EWXROREkxWWkwNU1qTmxMVEJpT1RObU5EazRZMlV4TnpDQ0FhSXdEUVlKS29aSWh2Y04KQVFFQkJRQURnZ0dQQURDQ0FZb0NnZ0dCQU9kSHJaSmo5SDRyUnp5dW1NTXNkU3E2Q3hMZ1NKN2ZaRmhiVm9ReQo2bElRbjkwd29NWW5EVDF1TXhnb2Zjb05YTEw3VmJVeDZiZFEyWmZaSkNZSVZpWWRSbTk2VmVOb0RmdXEwTHFWCldaMUhVbzNpbE1aVlp4MFZ3UmNpd2J3QlBBTGIyczBuN1BSeVRXVUJFTnZpSndVbjNZcGplWWhCR3NOeUltbEMKOVBiQnhFenNZN0YvUWttQ3Z1OFFqRXMrUjdOWFpZc0ZKOHkwaHV2S3ZaMUdTK2NLOFZlVnJYOWdSTnJuTUM4MQpmdC9RQ0htT3lXMlJIc3htWEZmYTJaaDNoZXdIcE9hZ3lrQ1Q0QktRMkYzWjh0MGVwWFhmMDhramVvdWVtSktTCjV6c2xOeVMrMjJRd1pVK25GVERpbVBuNFFBdDFKNnJjL29sTUk5OGZuaXRIeTZOYUhvanZ4NEl1bWpUb0ZBcEwKVUR3Z1FwclhFY25TcnArMzdDc1l5dW9vZHZIOHdtaHBtSi9IdFFNU25lMFozcENZV3NwTzZQNGM5TDM4ODROTwpNM3dRYU9kQXBkUk8zMG1Ea0VjbEVCRXRJUUpvUFNyb2JuUXJOb1FwTFYrK3lyMnFpeFdDb29BbUN0aFlSN3pwCjJoYzZ4aHdMUWNiNUZncEpCRVZqMjFIYmd3SURBUUFCbzBJd1FEQU9CZ05WSFE4QkFmOEVCQU1DQWdRd0R3WUQKVlIwVEFRSC9CQVV3QXdFQi96QWRCZ05WSFE0RUZnUVU1WG1jQW5oVGwzSkovNXd6R1R3N0hKNlFJSk13RFFZSgpLb1pJaHZjTkFRRUxCUUFEZ2dHQkFCNmt3Rk16MndwbkVkQjZvbFpqbDV6K1BrTCt6ZjArbi9uWFhaeWhkMUNICjlENmFtMzNSais4RWZaVEgwcld2clQvcTl0K3pwYU1vcTAxQWtUanp3ME1PMjFVVmZlY2tvTy9hSFVFbWk3VUMKNGxwaWVpSWx4cVlOQ2lhZ2QvVDB2K2dzSkdnekZzNlE1S1IwTnJ6aks1UDlLMnIrWVhyRS95dUJvRUI3TXFXdAp5OW5KK1hVUkdrMkF3dlNUbFppMGVNVnI0dEFRUG5pSXJ0WC9jcVBLMEdObGQ0SjdVMnlCWk52RVJMZlJDRTd1CmtxcTRYdGRRK0h2TERZUzR2cE1kQ2pnMzZ4R0wzMFR5VTlxT3dFdEhpaXJtT0ZuVUNJOWVoRWhIQ1MzRDdWRFcKclVxQm01MzJlWHNPWXJ6eTY5R1FrL0ZlcTMwRHZwclMzamZ3UXdHL1ZPOXNTWHVIS0xSeWdZZzBvY2d2RTg4TQpQcGtnbitwOHdqNjNJRGk0bXAzOVllRXlKcy91SDc3UU5UU0tDMENldUE0WWFIUTdQZkNDL0xWRFVoNENjb2p3CklCRUh3SGVHK0NTZ1NMQXhQRmlJTGhBSzB1R2RlYjNKdUFBdjFiSFhkZW1ocGxrYjJ1b3pubjkycEVwSlpFN3IKSW1VSUhQOHR4VHNZSTVZTk1meWdwZz09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"

        client_certificate_config {
                    issue_client_certificate         = false
        }
    }

    monitoring_config {
                enable_components         = [
            "SYSTEM_COMPONENTS",
        ]

        advanced_datapath_observability_config {
                    enable_metrics         = true
                    relay_mode             = "DISABLED"
        }

        managed_prometheus {
                    enabled         = true
        }
    }

    network_policy {
                enabled          = false
                provider         = "PROVIDER_UNSPECIFIED"
    }

    node_config {
                disk_size_gb              = 100
                disk_type                 = "pd-standard"
                guest_accelerator         = []
                image_type                = "COS_CONTAINERD"
                labels                    = {}
                local_ssd_count           = 0
                logging_variant           = "DEFAULT"
                machine_type              = "e2-medium"
                metadata                  = {
            "disable-legacy-endpoints" = "true"
        }
                oauth_scopes              = [
            "https://www.googleapis.com/auth/devstorage.read_only",
            "https://www.googleapis.com/auth/logging.write",
            "https://www.googleapis.com/auth/monitoring",
            "https://www.googleapis.com/auth/service.management.readonly",
            "https://www.googleapis.com/auth/servicecontrol",
            "https://www.googleapis.com/auth/trace.append",
        ]
                preemptible               = false
                resource_labels           = {}
                service_account           = "default"
                spot                      = false
                tags                      = []
                taint                     = []

        reservation_affinity {
                    consume_reservation_type         = "NO_RESERVATION"
                    values                           = []
        }

        shielded_instance_config {
                    enable_integrity_monitoring         = true
                    enable_secure_boot                  = true
        }

        workload_metadata_config {
                    mode         = "GKE_METADATA"
        }
    }

    node_pool {
                initial_node_count                  = 1
                instance_group_urls                 = []
                managed_instance_group_urls         = []
                max_pods_per_node                   = 32
                name                                = "default-pool"
                node_count                          = 0
                node_locations                      = [
            "europe-west6-a",
            "europe-west6-b",
        ]
                version                             = "1.27.3-gke.100"

        autoscaling {
                    location_policy              = "BALANCED"
                    max_node_count               = 1000
                    min_node_count               = 0
                    total_max_node_count         = 0
                    total_min_node_count         = 0
        }

        management {
                    auto_repair          = true
                    auto_upgrade         = true
        }

        network_config {
                    create_pod_range             = false
                    enable_private_nodes         = false
                    pod_ipv4_cidr_block          = "10.251.0.0/17"
                    pod_range                    = "gke-gke-qa-pods-0c0cf2d4"
        }

        node_config {
                    disk_size_gb              = 100
                    disk_type                 = "pd-standard"
                    guest_accelerator         = []
                    image_type                = "COS_CONTAINERD"
                    labels                    = {}
                    local_ssd_count           = 0
                    logging_variant           = "DEFAULT"
                    machine_type              = "e2-medium"
                    metadata                  = {
                "disable-legacy-endpoints" = "true"
            }
                    oauth_scopes              = [
                "https://www.googleapis.com/auth/devstorage.read_only",
                "https://www.googleapis.com/auth/logging.write",
                "https://www.googleapis.com/auth/monitoring",
                "https://www.googleapis.com/auth/service.management.readonly",
                "https://www.googleapis.com/auth/servicecontrol",
                "https://www.googleapis.com/auth/trace.append",
            ]
                    preemptible               = false
                    resource_labels           = {}
                    service_account           = "default"
                    spot                      = false
                    tags                      = []
                    taint                     = []

            reservation_affinity {
                        consume_reservation_type         = "NO_RESERVATION"
                        values                           = []
            }

            shielded_instance_config {
                        enable_integrity_monitoring         = true
                        enable_secure_boot                  = true
            }

            workload_metadata_config {
                        mode         = "GKE_METADATA"
            }
        }

        upgrade_settings {
                    max_surge               = 1
                    max_unavailable         = 0
                    strategy                = "SURGE"
        }
    }
    node_pool {
                initial_node_count                  = 0
                instance_group_urls                 = []
                managed_instance_group_urls         = []
                max_pods_per_node                   = 32
                name                                = "pool-1"
                node_count                          = 0
                node_locations                      = [
            "europe-west6-a",
            "europe-west6-b",
            "europe-west6-c",
        ]
                version                             = "1.27.3-gke.100"

        autoscaling {
                    location_policy              = "BALANCED"
                    max_node_count               = 1000
                    min_node_count               = 0
                    total_max_node_count         = 0
                    total_min_node_count         = 0
        }

        management {
                    auto_repair          = true
                    auto_upgrade         = true
        }

        network_config {
                    create_pod_range             = false
                    enable_private_nodes         = false
                    pod_ipv4_cidr_block          = "10.251.0.0/17"
                    pod_range                    = "gke-gke-qa-pods-0c0cf2d4"
        }

        node_config {
                    disk_size_gb              = 100
                    disk_type                 = "pd-standard"
                    guest_accelerator         = []
                    image_type                = "COS_CONTAINERD"
                    labels                    = {}
                    local_ssd_count           = 0
                    logging_variant           = "DEFAULT"
                    machine_type              = "e2-standard-2"
                    metadata                  = {
                "disable-legacy-endpoints" = "true"
            }
                    oauth_scopes              = [
                "https://www.googleapis.com/auth/devstorage.read_only",
                "https://www.googleapis.com/auth/logging.write",
                "https://www.googleapis.com/auth/monitoring",
                "https://www.googleapis.com/auth/service.management.readonly",
                "https://www.googleapis.com/auth/servicecontrol",
                "https://www.googleapis.com/auth/trace.append",
            ]
                    preemptible               = false
                    resource_labels           = {}
                    service_account           = "default"
                    spot                      = false
                    tags                      = []
                    taint                     = []

            reservation_affinity {
                        consume_reservation_type         = "NO_RESERVATION"
                        values                           = []
            }

            shielded_instance_config {
                        enable_integrity_monitoring         = true
                        enable_secure_boot                  = true
            }

            workload_metadata_config {
                        mode         = "GKE_METADATA"
            }
        }

        upgrade_settings {
                    max_surge               = 1
                    max_unavailable         = 0
                    strategy                = "SURGE"
        }
    }
    node_pool {
                initial_node_count                  = 0
                instance_group_urls                 = []
                managed_instance_group_urls         = []
                max_pods_per_node                   = 32
                name                                = "pool-2"
                node_count                          = 0
                node_locations                      = [
            "europe-west6-a",
            "europe-west6-b",
            "europe-west6-c",
        ]
                version                             = "1.27.3-gke.100"

        autoscaling {
                    location_policy              = "BALANCED"
                    max_node_count               = 1000
                    min_node_count               = 0
                    total_max_node_count         = 0
                    total_min_node_count         = 0
        }

        management {
                    auto_repair          = true
                    auto_upgrade         = true
        }

        network_config {
                    create_pod_range             = false
                    enable_private_nodes         = false
                    pod_ipv4_cidr_block          = "10.251.0.0/17"
                    pod_range                    = "gke-gke-qa-pods-0c0cf2d4"
        }

        node_config {
                    disk_size_gb              = 100
                    disk_type                 = "pd-standard"
                    guest_accelerator         = []
                    image_type                = "COS_CONTAINERD"
                    labels                    = {}
                    local_ssd_count           = 0
                    logging_variant           = "DEFAULT"
                    machine_type              = "e2-standard-4"
                    metadata                  = {
                "disable-legacy-endpoints" = "true"
            }
                    oauth_scopes              = [
                "https://www.googleapis.com/auth/devstorage.read_only",
                "https://www.googleapis.com/auth/logging.write",
                "https://www.googleapis.com/auth/monitoring",
                "https://www.googleapis.com/auth/service.management.readonly",
                "https://www.googleapis.com/auth/servicecontrol",
                "https://www.googleapis.com/auth/trace.append",
            ]
                    preemptible               = false
                    resource_labels           = {}
                    service_account           = "default"
                    spot                      = false
                    tags                      = []
                    taint                     = []

            reservation_affinity {
                        consume_reservation_type         = "NO_RESERVATION"
                        values                           = []
            }

            shielded_instance_config {
                        enable_integrity_monitoring         = true
                        enable_secure_boot                  = true
            }

            workload_metadata_config {
                        mode         = "GKE_METADATA"
            }
        }

        upgrade_settings {
                    max_surge               = 1
                    max_unavailable         = 0
                    strategy                = "SURGE"
        }
    }
    node_pool {
                initial_node_count                  = 0
                instance_group_urls                 = []
                managed_instance_group_urls         = []
                max_pods_per_node                   = 32
                name                                = "pool-3"
                node_count                          = 0
                node_locations                      = [
            "europe-west6-a",
            "europe-west6-b",
            "europe-west6-c",
        ]
                version                             = "1.27.3-gke.100"

        autoscaling {
                    location_policy              = "BALANCED"
                    max_node_count               = 1000
                    min_node_count               = 0
                    total_max_node_count         = 0
                    total_min_node_count         = 0
        }

        management {
                    auto_repair          = true
                    auto_upgrade         = true
        }

        network_config {
                    create_pod_range             = false
                    enable_private_nodes         = false
                    pod_ipv4_cidr_block          = "10.251.0.0/17"
                    pod_range                    = "gke-gke-qa-pods-0c0cf2d4"
        }

        node_config {
                    disk_size_gb              = 100
                    disk_type                 = "pd-standard"
                    guest_accelerator         = []
                    image_type                = "COS_CONTAINERD"
                    labels                    = {}
                    local_ssd_count           = 0
                    logging_variant           = "DEFAULT"
                    machine_type              = "e2-standard-8"
                    metadata                  = {
                "disable-legacy-endpoints" = "true"
            }
                    oauth_scopes              = [
                "https://www.googleapis.com/auth/devstorage.read_only",
                "https://www.googleapis.com/auth/logging.write",
                "https://www.googleapis.com/auth/monitoring",
                "https://www.googleapis.com/auth/service.management.readonly",
                "https://www.googleapis.com/auth/servicecontrol",
                "https://www.googleapis.com/auth/trace.append",
            ]
                    preemptible               = false
                    resource_labels           = {}
                    service_account           = "default"
                    spot                      = false
                    tags                      = []
                    taint                     = []

            reservation_affinity {
                        consume_reservation_type         = "NO_RESERVATION"
                        values                           = []
            }

            shielded_instance_config {
                        enable_integrity_monitoring         = true
                        enable_secure_boot                  = true
            }

            workload_metadata_config {
                        mode         = "GKE_METADATA"
            }
        }

        upgrade_settings {
                    max_surge               = 1
                    max_unavailable         = 0
                    strategy                = "SURGE"
        }
    }
    node_pool {
                initial_node_count                  = 0
                instance_group_urls                 = []
                managed_instance_group_urls         = []
                max_pods_per_node                   = 32
                name                                = "pool-4"
                node_count                          = 0
                node_locations                      = [
            "europe-west6-a",
            "europe-west6-b",
            "europe-west6-c",
        ]
                version                             = "1.27.3-gke.100"

        autoscaling {
                    location_policy              = "BALANCED"
                    max_node_count               = 1000
                    min_node_count               = 0
                    total_max_node_count         = 0
                    total_min_node_count         = 0
        }

        management {
                    auto_repair          = true
                    auto_upgrade         = true
        }

        network_config {
                    create_pod_range             = false
                    enable_private_nodes         = false
                    pod_ipv4_cidr_block          = "10.251.0.0/17"
                    pod_range                    = "gke-gke-qa-pods-0c0cf2d4"
        }

        node_config {
                    disk_size_gb              = 100
                    disk_type                 = "pd-standard"
                    guest_accelerator         = []
                    image_type                = "COS_CONTAINERD"
                    labels                    = {}
                    local_ssd_count           = 0
                    logging_variant           = "DEFAULT"
                    machine_type              = "e2-standard-16"
                    metadata                  = {
                "disable-legacy-endpoints" = "true"
            }
                    oauth_scopes              = [
                "https://www.googleapis.com/auth/devstorage.read_only",
                "https://www.googleapis.com/auth/logging.write",
                "https://www.googleapis.com/auth/monitoring",
                "https://www.googleapis.com/auth/service.management.readonly",
                "https://www.googleapis.com/auth/servicecontrol",
                "https://www.googleapis.com/auth/trace.append",
            ]
                    preemptible               = false
                    resource_labels           = {}
                    service_account           = "default"
                    spot                      = false
                    tags                      = []
                    taint                     = []

            reservation_affinity {
                        consume_reservation_type         = "NO_RESERVATION"
                        values                           = []
            }

            shielded_instance_config {
                        enable_integrity_monitoring         = true
                        enable_secure_boot                  = true
            }

            workload_metadata_config {
                        mode         = "GKE_METADATA"
            }
        }

        upgrade_settings {
                    max_surge               = 1
                    max_unavailable         = 0
                    strategy                = "SURGE"
        }
    }
    node_pool {
                initial_node_count                  = 0
                instance_group_urls                 = []
                managed_instance_group_urls         = []
                max_pods_per_node                   = 32
                name                                = "pool-5"
                node_count                          = 0
                node_locations                      = [
            "europe-west6-a",
            "europe-west6-b",
            "europe-west6-c",
        ]
                version                             = "1.27.3-gke.100"

        autoscaling {
                    location_policy              = "BALANCED"
                    max_node_count               = 1000
                    min_node_count               = 0
                    total_max_node_count         = 0
                    total_min_node_count         = 0
        }

        management {
                    auto_repair          = true
                    auto_upgrade         = true
        }

        network_config {
                    create_pod_range             = false
                    enable_private_nodes         = false
                    pod_ipv4_cidr_block          = "10.251.0.0/17"
                    pod_range                    = "gke-gke-qa-pods-0c0cf2d4"
        }

        node_config {
                    disk_size_gb              = 100
                    disk_type                 = "pd-standard"
                    guest_accelerator         = []
                    image_type                = "COS_CONTAINERD"
                    labels                    = {}
                    local_ssd_count           = 0
                    logging_variant           = "DEFAULT"
                    machine_type              = "e2-standard-32"
                    metadata                  = {
                "disable-legacy-endpoints" = "true"
            }
                    oauth_scopes              = [
                "https://www.googleapis.com/auth/devstorage.read_only",
                "https://www.googleapis.com/auth/logging.write",
                "https://www.googleapis.com/auth/monitoring",
                "https://www.googleapis.com/auth/service.management.readonly",
                "https://www.googleapis.com/auth/servicecontrol",
                "https://www.googleapis.com/auth/trace.append",
            ]
                    preemptible               = false
                    resource_labels           = {}
                    service_account           = "default"
                    spot                      = false
                    tags                      = []
                    taint                     = []

            reservation_affinity {
                        consume_reservation_type         = "NO_RESERVATION"
                        values                           = []
            }

            shielded_instance_config {
                        enable_integrity_monitoring         = true
                        enable_secure_boot                  = true
            }

            workload_metadata_config {
                        mode         = "GKE_METADATA"
            }
        }

        upgrade_settings {
                    max_surge               = 1
                    max_unavailable         = 0
                    strategy                = "SURGE"
        }
    }

    node_pool_defaults {
        node_config_defaults {
                    logging_variant         = "DEFAULT"
        }
    }

    notification_config {
        pubsub {
                    enabled         = false
        }
    }

    private_cluster_config {
                enable_private_endpoint         = false
                enable_private_nodes            = false
                private_endpoint                = "10.10.0.28"
                public_endpoint                 = "34.65.237.98"

        master_global_access_config {
                    enabled         = false
        }
    }

    release_channel {
                channel         = "REGULAR"
    }

    security_posture_config {
                mode                       = "BASIC"
                vulnerability_mode         = "VULNERABILITY_BASIC"
    }

    service_external_ips_config {
                enabled         = false
    }

    vertical_pod_autoscaling {
                enabled         = true
    }

    workload_identity_config {
                workload_pool         = "winter-field-401115.svc.id.goog"
    }
}        
